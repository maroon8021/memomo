---
path: "/article/500-error-on-cakephp"
date: "2020-02-18"
title: "cakephpで500エラーが起きたから対処した話"
---

# cakephp で 500 エラーが起きたから対処した話

## そもそもやろうとしたこと

とあるテーブルにカラムを追加し、DB 上でも反映が確認できていたのだが、一向に表示されないのでどうにかしようとした。

## ↑ これに対する結論

`app/tmp/cache` の中身を消す  
ただし、内包されてるフォルダは消してはいけない

## ↑ これをやってるときに起きたこと

① フォルダを消しすぎて「対象フォルダがない」と怒られる  
②「とりあえずフォルダ戻せばいいか」と戻すが動かない <- これがめんどかった

## どう対処したか

① とりあえず 500 エラーがでるので、「cakephp 500 エラー」とかで調べる  
 -> `htaccess` の話がよく出てきたが、そんなもんはいじってないから、関係なかった。むしろへんなところ消したんじゃないかと思ってめちゃ心配になったわ

② サーバーにアクセスして、サーバーリスタートを試みる
-> `systemctl restart httpd` だが変わらず

③ サーバーのログ見るか、となりエラーログみにいく
-> `var/log/httpd/error_log`

```
PHP Warning:  _cake_core_ cache was unable to write
```

とかあって、FTP でフォルダ生成したから、コード側からのファイル操作権限ないのでは？と思い、新しく作ったフォルダたちに権限付与

↓

生還。

疲れた・・・笑
